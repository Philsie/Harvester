<link rel="stylesheet" href="stylesheets/index.css">
<html>
  <head>
    <title>Video Streaming Demonstration</title>
  </head>
  <body>
    <h1>Video Streaming Demonstration</h1>

      ------------------------------------<br>
      <p id="fps"> FPS </p>
      <img id="cam" src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/06/devblog-debug.png"><br>
      <p id="debug">DEBUG</p>
    <script>
      var FPS = document.getElementById("fps");
      setInterval(() => {
          fetch("{{ url_for('fps') }}")
          .then(response => {
                  response.text().then(t => {FPS.innerHTML = t})
              });
          fetch("{{ url_for('video_feed') }}")
          .then(response => {
                  response.text().then(s => {CAM.setAttribute(src,s),DEBUG.innerHTML="tried"})
              });
          }, 1);  
    </script>
    <script>
      var CAM = document.getElementById("cam");
      var DEBUG = document.getElementById("debug");
      DEBUG.innerHTML = "*"
      setInterval(() => {
          fetch("{{url_for('video_feed')}}")
          .then(response => {
                  response.text().then(s => {CAM.src=s,DEBUG.innerHTML=s})
              });
          }, 1); 

    </script>

  </body>
</html